// cd ~/yourProject/node_modules/bank
// Note: `module.parent.app` and `module.parent.options` are stored in memory
var options = module.parent.options;

exports.global = function($){
	// this creates a new instance 
	// of the $.bank in visitors route
	this.name = options.name
	this.vault = options.vault
	this.deposit = function(amount){
		options.vault += parseInt(amount)
	}
	this.withdraw = function(amount){
		options.vault -= parseInt(amount)
	}
	$.return(this)
}

module.parent.return()
